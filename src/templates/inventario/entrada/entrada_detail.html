{% extends "base/base.html" %}
{% load staticfiles %}
{% block page_title %}
<title>Entrada - {{ entrada.id }}</title>
{% endblock page_title %}
{% block content %}
<section class="content">
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-9">
				<div class="box">
					<div class="box-header">
						<div class="row">
							<div class="col-md-6">
								<h3 class="box-title">Entrada No. {{ entrada.id }}</h3>
							</div>
							<div class="col-md-6">
									<a href="{% url 'carta_agradecimiento' pk=object.id%}" class="btn btn-success">Carta Agradecimiento</a>
									<a href="{% url 'reporte_sucio' pk=object.id%}" class="btn btn-primary">Constancia Útil</a>
									<a href="{% url 'constancia_entrada' pk=object.id%}" class="btn btn-danger">Constancia Entrada</a>
							</div>
						</div>
					</div>
					<div class="box-body">
						<table class="table table-condensed table-responsive">
							<tr>
								<th>Tipo</th>
								<td>{{ entrada.tipo }}</td>
							</tr>
							<tr>
								<th>Fecha</th>
								<td>
									{{entrada.fecha}}
									<br>
								</td>
							</tr>
              <tr>
								<th>En Creacion</th>
								<td>
                  {%if entrada.en_creacion == True%}
                  SI
                  {%else%}
                  	NO
                  {%endif%}

									<br>
								</td>
							</tr>
              <tr>
								<th>Creada por</th>
								<td>
									{{entrada.creada_por.get_full_name}}
									<br>
								</td>
							</tr>
              <tr>
								<th>Recibida por</th>
								<td>
									{{entrada.recibida_por.get_full_name}}
									<br>
								</td>
							</tr>
              <tr>
								<th>Proveedor</th>
								<td>
									{{entrada.proveedor}}
									<br>
								</td>
							</tr>
							<tr>
								<th>Factura</th>
								<td>
									{{entrada.factura}}
									<br>
								</td>
							</tr>
							<tr>
								<th>Observaciones</th>
								<td>
									{{entrada.observaciones|default_if_none:"No Existe Observaciones"}}
								</td>
							</tr>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
<section>
	<div class="box">
			<div class="box-header">
					<div class="box-title">
							<h3 class="box-title">Detalle del equipo</h3>
					</div>
			</div>
			<div class="box-body table-responsive">
					<table id="entrada-table" class="table table-condensed"
								 data-api="{% url 'inventario_api:api_detalles-list' %}"
								 data-pk="{{ entrada.id }}">
							<thead>
							<tr>
									<th>Tipo de dispositivo</th>
									<th>Útil</th>
									<th>Repuesto</th>
									<th>Desecho</th>
									<th>Cantidad total</th>
									<th>Precio Unitario</th>
									<th>Precio Subtotal</th>
									<th>Precio Descontado</th>
									<th>Precio Total</th>
									<th>Descripcion</th>
									<th>Tecnico</th>
									<th></th>
									<th></th>

							</tr>
							</thead>
					</table>
			</div>
	</div>
</section>

{% endblock content %}
{% block extra_js %}
<script src="{% static "js/extrajs/inventario.js" %}"></script>
<script>
    AlertaEnCreacion.init();
    let pagina = new EntradaDetail();
</script>
{% endblock extra_js %}

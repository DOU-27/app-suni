{% extends "base/base.html" %}

{% load staticfiles %}

{% block page_title %}
<title>Grupo {{ grupo }}</title>
{% endblock page_title %}

{% block content %}
<section class="content">
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-12">
				<div class="box box-primary">
					<div class="box-body box-profile">
						<h3 class="profile-username text-center">{{ grupo }}</h3>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-md-6">
				<div class="box box-primary">
					<div class="box-header">
						<h3 class="box-title">Detalle</h3>
					</div>
					<div class="box-body no-padding">
						<table class="table">
							<tr>
								<th>Número</th>
								<td>{{ grupo.numero }}</td>
							</tr>
							<tr>
								<th>Curso</th>
								<td>{{ grupo.curso }}</td>
							</tr>
							<tr>
								<th>Sede</th>
								<td>{{ grupo.sede }}</td>
							</tr>
							<tr>
								<th>Capacitador</th>
								<td>{{ grupo.sede.capacitador.get_full_name }}</td>
							</tr>
							<tr>
								<th>Observaciones</th>
								<td>
									{% csrf_token %}
									<a href="#" class="editable" data-name="comentario" data-type="text" data-pk="{{ grupo.id }}" data-url="{% url 'grupo_api_detail' pk=grupo.id %}">
										{{ grupo.comentario }}
									</a>
								</td>
							</tr>
						</table>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="box box-primary">
					<div class="box-header">
						<h3 class="box-title">Calendario</h3>
					</div>
					<div class="box-body no-padding">
						<table class="table table-striped">
							<thead>
								<tr>
									<th>Asistenca</th>
									<th>Fecha</th>
									<th>Hora de inicio</th>
									<th>Hora de fin</th>
								</tr>
							</thead>
							<tbody>
								{% for asistencia in grupo.asistencias.all %}
								<tr>
									<td>{{ asistencia.cr_asistencia.modulo_num }}</td>
									<td>
										<a href="#" class="editable" data-name="fecha" data-type="text" data-pk="{{ asistencia.id }}" data-url="{% url 'calendario_api_detail' pk=asistencia.id %}" data-mode="inline" data-inputclass="datepicker">
											{{ asistencia.fecha|date:"Y-m-d" }}
										</a>
									</td>
									<td>
										<a href="#" class="editable" data-name="hora_inicio" data-type="text" data-pk="{{ asistencia.id }}" data-url="{% url 'calendario_api_detail' pk=asistencia.id %}">
											{{ asistencia.hora_inicio|default_if_none:"" }}
										</a>
									</td>
									<td>
										<a href="#" class="editable" data-name="hora_fin" data-type="text" data-pk="{{ asistencia.id }}" data-url="{% url 'calendario_api_detail' pk=asistencia.id %}">
											{{ asistencia.hora_fin|default_if_none:"" }}
										</a>
									</td>
								</tr>
								{% endfor %}
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-md-12">
				<div class="box">
					<div class="box-header">
						<h3 class="box-title">Participantes</h3>
					</div>
					<div class="box-body no-padding">
						<table class="table table-striped table-condensed">
							<thead>
								<tr>
									<th>No.</th>
									<th>DPI</th>
									<th>Nombre</th>
									<th>Apellido</th>
									<th>Género</th>
									<th>Escuela</th>
									<th>Nota</th>
									<th>Resultado</th>
								</tr>
							</thead>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
{% endblock content %}


{% block extra_css %}
<link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap-editable.css' %}">
{% endblock extra_css %}


{% block extra_js %}
<script src="{% static 'js/bootstrap-editable.min.js' %}"></script>
<script src="{% static 'js/extrajs/cyd.js' %}"></script>
<script>
	GrupoDetail.init();
</script>
{% endblock extra_js %}